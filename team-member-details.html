<!-- 
=========================================================
 Light Bootstrap Dashboard - v2.0.1
=========================================================

 Product Page: https://www.creative-tim.com/product/light-bootstrap-dashboard
 Copyright 2019 Creative Tim (https://www.creative-tim.com)
 Licensed under MIT (https://github.com/creativetimofficial/light-bootstrap-dashboard/blob/master/LICENSE)

 Coded by Creative Tim

=========================================================

 The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.  -->
 <!DOCTYPE html>

 <html lang="en">
 
 <head>
     <meta charset="utf-8" />
     <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
     <link rel="icon" type="image/png" href="../assets/img/favicon.ico">
     <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
     <title>Light Bootstrap Dashboard - Free Bootstrap 4 Admin Dashboard by Creative Tim</title>
     <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
     <!--     Fonts and icons     -->
     <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
     <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />
     <!-- CSS Files -->
     <link href="../assets/css/bootstrap.min.css" rel="stylesheet" />
     <link href="../assets/css/light-bootstrap-dashboard.css?v=2.0.0 " rel="stylesheet" />
     <!-- CSS Just for demo purpose, don't include it in your project -->
     <link href="../assets/css/demo.css" rel="stylesheet" />
 </head>
 
 <body>
     <div class="wrapper">
         <div class="sidebar" data-image="../assets/img/sidebar-5.jpg">
             <!--
         Tip 1: You can change the color of the sidebar using: data-color="purple | blue | green | orange | red"
 
         Tip 2: you can also add an image using data-image tag
     -->
             <div class="sidebar-wrapper">
                 <div class="logo">
                     <a href="http://www.creative-tim.com" class="simple-text">
                         Make-it-all
                     </a>
                 </div>
                 <ul class="nav">
                     <li>
                         <a class="nav-link" href="dashboard.html">
                             <i class="nc-icon nc-chart-pie-35"></i>
                             <p>Dashboard</p>
                         </a>
                     </li>
                     <li class="nav-item active">
                         <a class="nav-link" href="./teamprojects.html">
                             <i class="nc-icon nc-bag"></i>
                             <p>Team Projects</p>
                         </a>
                     </li>
                     <li>
                         <a class="nav-link" href="./user.html">
                             <i class="nc-icon nc-circle-09"></i>
                             <p>User Profile</p>
                         </a>
                     </li>
                     <li>
                         <a class="nav-link" href="./table.html">
                             <i class="nc-icon nc-notes"></i>
                             <p>Table List</p>
                         </a>
                     </li>
                     <li>
                         <a class="nav-link" href="./typography.html">
                             <i class="nc-icon nc-paper-2"></i>
                             <p>Typography</p>
                         </a>
                     </li>
                     <li>
                         <a class="nav-link" href="./icons.html">
                             <i class="nc-icon nc-atom"></i>
                             <p>Icons</p>
                         </a>
                     </li>
                     <li>
                         <a class="nav-link" href="./maps.html">
                             <i class="nc-icon nc-pin-3"></i>
                             <p>Maps</p>
                         </a>
                     </li>
                     <li>
                         <a class="nav-link" href="./notifications.html">
                             <i class="nc-icon nc-bell-55"></i>
                             <p>Notifications</p>
                         </a>
                     </li>
                     <li class="nav-item active active-pro">
                         <a class="nav-link active" href="upgrade.html">
                             <i class="nc-icon nc-alien-33"></i>
                             <p>Upgrade to PRO</p>
                         </a>
                     </li>
                 </ul>
             </div>
         </div>
         <div class="main-panel">
             <!-- Navbar -->
             <nav class="navbar navbar-expand-lg " color-on-scroll="500">
                 <div class="container-fluid">
                     <a class="navbar-brand" href="teamprojects.html"> Team Projects </a>
                     <button href="" class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
                         <span class="navbar-toggler-bar burger-lines"></span>
                         <span class="navbar-toggler-bar burger-lines"></span>
                         <span class="navbar-toggler-bar burger-lines"></span>
                     </button>
                     <div class="collapse navbar-collapse justify-content-end" id="navigation">
                         <ul class="nav navbar-nav mr-auto">
                             <li class="nav-item">
                                 <a href="#" class="nav-link" data-toggle="dropdown">
                                     <i class="nc-icon nc-palette"></i>
                                     <span class="d-lg-none">Team Projects</span>
                                 </a>
                             </li>
                             <li class="dropdown nav-item">
                                 <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
                                     <i class="nc-icon nc-planet"></i>
                                     <span class="notification">5</span>
                                     <span class="d-lg-none">Notification</span>
                                 </a>
                                 <ul class="dropdown-menu">
                                     <a class="dropdown-item" href="#">Notification 1</a>
                                     <a class="dropdown-item" href="#">Notification 2</a>
                                     <a class="dropdown-item" href="#">Notification 3</a>
                                     <a class="dropdown-item" href="#">Notification 4</a>
                                     <a class="dropdown-item" href="#">Another notification</a>
                                 </ul>
                             </li>
                             <li class="nav-item">
                                 <a href="#" class="nav-link">
                                     <i class="nc-icon nc-zoom-split"></i>
                                     <span class="d-lg-block">&nbsp;Search</span>
                                 </a>
                             </li>
                         </ul>
                         <ul class="navbar-nav ml-auto">
                             <li class="nav-item">
                                 <a class="nav-link" href="#pablo">
                                     <span class="no-icon">Account</span>
                                 </a>
                             </li>
                             <li class="nav-item dropdown">
                                 <a class="nav-link dropdown-toggle" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                     <span class="no-icon">Dropdown</span>
                                 </a>
                                 <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                     <a class="dropdown-item" href="#">Action</a>
                                     <a class="dropdown-item" href="#">Another action</a>
                                     <a class="dropdown-item" href="#">Something</a>
                                     <a class="dropdown-item" href="#">Something else here</a>
                                     <div class="divider"></div>
                                     <a class="dropdown-item" href="#">Separated link</a>
                                 </div>
                             </li>
                             <li class="nav-item">
                                 <a class="nav-link" href="#pablo">
                                     <span class="no-icon">Log out</span>
                                 </a>
                             </li>
                         </ul>
                     </div>
                 </div>
             </nav>
             <!-- End Navbar -->
            <div class="content">
                <div>
                    <button type="button" class="btn btn-secondary mb-3" onclick="goBack()">Back to Team Projects</button>
                </div>
                <div class="container">
                    <div class="card-title">
                        <h2 id="projectName">Project Details</h2>
                    </div>
                    <div class="row">
                        <!-- Chart Container -->
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h4 class="card-title">Task Completion Statistics for <span id="currentProject"></span></h4>
                                    <p class="card-category">Latest User Progress</p>
                                </div>
                                <div class="card-body">
                                    <div id="chartTasks2" class="ct-chart ct-perfect-fourth"></div>
                                    <div class="legend">
                                        <i class="fa fa-circle text-info"></i> Completed
                                        <i class="fa fa-circle text-danger"></i> Ongoing
                                        <i class="fa fa-circle text-warning"></i> To-Do
                                    </div>
                                    <hr>
                                    <div class="stats">
                                        <i class="fa fa-clock-o"></i> Last Task Completed 2 days ago
                                        <p><strong>Project Deadline:</strong> <span id="deadlineDate"></span></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h4 class="card-title">Daily Hours</h4>
                                    <p class="card-category">Last 7 Days</p>
                                </div>
                                <div class="card-body">
                                    <div id="chartHours" class="ct-chart ct-perfect-fourth"></div>
                                    <div class="legend">
                                    </div>
                                    <div class="stats">
                                        <i class="fa fa-clock-o"></i> Last Seen Online 3 minutes ago
                                    </div>
                                </div>
                            </div>
                        </div>
                    
                        <!-- User Roles Table -->
                        <style>
                            #userRolesTable tbody tr {
                                transition: background-color 0.3s;
                                cursor: pointer; /* Indicates that the row is clickable */
                            }
                        
                            #userRolesTable tbody tr:hover {
                                background-color: #f0f0f0; /* Adjust this color to make it darker or lighter */
                            }
                        </style>

                        </div>
                    </div>
                    <div class="container">
                        <p><strong>Tasks Completed:</strong> <span id="completedTasks"></span></p>
                        <p><strong>Tasks Ongoing:</strong> <span id="ongoingTasks"></span></p>
                        <p><strong>Tasks To Begin:</strong> <span id="notStartedTasks"></span></p>
    
                    </div>
    
                    <script>
                        // Fetch project data based on the projectId from the URL
                        const memberData = {
                            1: { 
                                name: "John Doe's Task Progress",
                                completedTasks: 2, 
                                ongoingTasks: 1, 
                                notStartedTasks: 1,
                                deadlineDate: "19/11/24",
                                currentProject: 'Project 1'
                            },
                            2: { 
                                name: "Jane Smith's Task Progress",
                                completedTasks: 1, 
                                ongoingTasks: 1, 
                                notStartedTasks: 1,
                                deadlineDate: "19/11/24",
                                currentProject: 'Project 1'
                            },
                            3: { 
                                name: "Mike Johnson's Task Progress",
                                completedTasks: 3, 
                                ongoingTasks: 0, 
                                notStartedTasks: 0,
                                deadlineDate: "19/11/24",
                                currentProject: 'Project 1'
                            },
                            4: { 
                                name: "Sam Dolton's Task Progress",
                                completedTasks: 3, 
                                ongoingTasks: 1, 
                                notStartedTasks: 0,
                                deadlineDate: "15/11/24",
                                currentProject: 'Project 2'
                            },
                            5: { 
                                name: "Pierce Nichols' Task Progress",
                                completedTasks: 2, 
                                ongoingTasks: 0, 
                                notStartedTasks: 0,
                                deadlineDate: "15/11/24",
                                currentProject: 'Project 2'
                            },
                            6: { 
                                name: "Raymond Shields' Task Progress",
                                completedTasks: 2, 
                                ongoingTasks: 0, 
                                notStartedTasks: 2,
                                deadlineDate: "15/11/24",
                                currentProject: 'Project 2'
                            },
                            7: { 
                                name: "Jodie Gray's Task Progress",
                                completedTasks: 3, 
                                ongoingTasks: 2, 
                                notStartedTasks: 0,
                                deadlineDate: "11/11/24",
                                currentProject: 'Project 3'
                            },
                            8: { 
                                name: "Jake Marsh's Task Progress",
                                completedTasks: 2, 
                                ongoingTasks: 0, 
                                notStartedTasks: 0,
                                deadlineDate: "11/11/24",
                                currentProject: 'Project 3'
                            },
                            9: { 
                                name: "Karin Jenson's Task Progress",
                                completedTasks: 3, 
                                ongoingTasks: 0, 
                                notStartedTasks: 0,
                                deadlineDate: "11/11/24",
                                currentProject: 'Project 3'
                            },
                            // Add more projects here
                        };
        
                        function getProjectIdFromURL() {
                            const params = new URLSearchParams(window.location.search);
                            return params.get('employeeId');
                        }
        
                        function showProjectDetails() {
                            const employeeId = getProjectIdFromURL();
                            const member = memberData[employeeId];
        
                            if (member) {
                                document.getElementById('projectName').innerText = member.name;
                                document.getElementById('completedTasks').innerText = member.completedTasks;
                                document.getElementById('ongoingTasks').innerText = member.ongoingTasks;
                                document.getElementById('notStartedTasks').innerText = member.notStartedTasks;
                                document.getElementById('deadlineDate').innerText = member.deadlineDate;
                                document.getElementById('currentProject').innerText = member.currentProject;
                            } else {
                                document.getElementById('projectName').innerText = 'Project not found';
                            }
                        }
                        function goBack() {
                            const employeeId = getProjectIdFromURL();
                            if (employeeId < 4) {
                                window.location.href = 'project-details.html?projectId=1'
                            } else if (employeeId < 7) {
                                window.location.href = 'project-details.html?projectId=2'
                            } else {
                                window.location.href = 'project-details.html?projectId=3'
                            };
                            
                        }
                        // Display the project details when the page loads
                        window.onload = showProjectDetails;
                    </script>
                </div>
                
            
                <!-- Inline Script to Populate Table -->
                <script>
                    // Data for demonstration purposes
                    
                    function getProjectID() {
                        const urlParams = new URLSearchParams(window.location.search);
                        return urlParams.get('projectId');
                    }

                    const projectID = getProjectID();

                    if (projectID == 1) {
                        var projectUsers = [
                        {id: 1, user: "John Doe", role: "Team Lead", taskCount: 4},
                        {id: 2, user: "Jane Smith", role: "Team Member", taskCount: 3 },
                        {id: 3, user: "Mike Johnson", role: "Team Member", taskCount: 3 },
                    ];
                    } else if (projectID == 2) {
                        var projectUsers = [
                        {id: 4, user: "Sam Dolton", role: "Team Lead", taskCount: 4 },
                        {id: 5, user: "Pierce Nichols", role: "Team Member", taskCount: 2 },
                        {id: 6, user: "Raymond Shields", role: "Team Member", taskCount: 4 },
                    ];
                    } else {
                        var projectUsers = [
                        {id: 7, user: "Jodie Gray", role: "Team Lead", taskCount: 5 },
                        {id: 8, user: "Jake Marsh", role: "Team Member", taskCount: 2 },
                        {id: 9, user: "Karin Jenson", role: "Team Member", taskCount: 3 },
                    ];
                    }
                
                    function populateUserRolesTable() {
                        const tableBody = document.querySelector('#userRolesTable tbody');

                        projectUsers.forEach(member => {
                            const row = document.createElement('tr');
                            row.innerHTML = `
                                <td>${member.user}</td>
                                <td>${member.role}</td>
                                <td>${member.taskCount}</td>
                            `;

                            // Add click event to redirect to another page
                            row.onclick = () => {
                                window.location.href = `team-member-details?employeeId=${member.id}`;
                            };

                            tableBody.appendChild(row);
                        });
                    }

                    // Call the function to populate the table
                    populateUserRolesTable();
                </script>
                
                <div class="container mt-5">

                    <!-- New Task Form -->
                    <div class="mb-4">
                        <h4>User's Task List</h4>
                    </div>

                    <div class="col-md-12">
                        <div class="card-body">
                            <table class="table align-middle" id="userRolesTable">
                                <thead>
                                    <tr>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Rows will be dynamically added here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <script
                            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
                <script>

                    function getEmployeeID() {
                        const urlParams = new URLSearchParams(window.location.search);
                        return urlParams.get('employeeId');
                    }

                    const employeeId = getEmployeeID();

                    if (employeeId == 1) {
                        var tasks = [
                        { name: 'Project 1 Task 1', completed: false },
                        { name: 'Project 1 Task 2', completed: true },
                        { name: 'Project 1 Task 3', completed: true },
                        { name: 'Project 1 Task 4', completed: false },
                    ];
                    } else if (employeeId == 2) {
                        var tasks = [
                        { name: 'Project 1 Task 5', completed: false },
                        { name: 'Project 1 Task 6', completed: true },
                        { name: 'Project 1 Task 7', completed: false },
                    ];
                    } else if (employeeId == 3) {
                        var tasks = [
                        { name: 'Project 1 Task 8', completed: true },
                        { name: 'Project 1 Task 9', completed: true },
                        { name: 'Project 1 Task 10', completed: true },
                    ];
                    }  else if (employeeId == 4) {
                        var tasks = [
                        { name: 'Project 2 Task 1', completed: false },
                        { name: 'Project 2 Task 2', completed: true },
                        { name: 'Project 2 Task 3', completed: true },
                        { name: 'Project 2 Task 4', completed: true },
                    ];
                    } else if (employeeId == 5) {
                        var tasks = [
                        { name: 'Project 2 Task 5', completed: true },
                        { name: 'Project 2 Task 6', completed: true },
                    ];
                    } else if (employeeId == 6) {
                        var tasks = [
                        { name: 'Project 2 Task 7', completed: false },
                        { name: 'Project 2 Task 8', completed: false },
                        { name: 'Project 2 Task 9', completed: true },
                        { name: 'Project 2 Task 10', completed: true },
                    ];
                    } else if (employeeId == 7) {
                        var tasks = [
                        { name: 'Project 3 Task 1', completed: false },
                        { name: 'Project 3 Task 2', completed: true },
                        { name: 'Project 3 Task 3', completed: true },
                        { name: 'Project 3 Task 4', completed: true },
                        { name: 'Project 3 Task 5', completed: false },
                    ];
                    } else if (employeeId == 8) {
                        var tasks = [
                        { name: 'Project 3 Task 6', completed: true },
                        { name: 'Project 3 Task 7', completed: true },
                    ];
                    } else {
                        var tasks = [
                        { name: 'Project 3 Task 8', completed: true },
                        { name: 'Project 3 Task 9', completed: true },
                        { name: 'Project 3 Task 10', completed: true },
                    ];
                    }

                    function populateTable() {
                        const tableBody = document.querySelector('#userRolesTable tbody');
                        tableBody.innerHTML = ''; // Clear existing rows if any

                        tasks.forEach((task) => {
                            const row = document.createElement('tr');

                            // Checkbox cell
                            const checkboxCell = document.createElement('td');
                            const formCheck = document.createElement('div');
                            formCheck.className = 'form-check';
                            const label = document.createElement('label');
                            label.className = 'form-check-label';
                            const input = document.createElement('input');
                            input.className = 'form-check-input';
                            input.type = 'checkbox';
                            input.checked = task.completed;
                            input.disabled = task.disabled || false;
                            label.appendChild(input);
                            label.appendChild(document.createElement('span')).className = 'form-check-sign';
                            formCheck.appendChild(label);
                            checkboxCell.appendChild(formCheck);
                            row.appendChild(checkboxCell);

                            // Task name cell
                            const nameCell = document.createElement('td');
                            nameCell.innerText = task.name;
                            row.appendChild(nameCell);

                            // Actions cell
                            const actionsCell = document.createElement('td');
                            actionsCell.className = 'td-actions text-right';
                            const editButton = document.createElement('button');
                            editButton.className = 'btn btn-info btn-simple btn-link';
                            editButton.title = 'Edit Task';
                            editButton.innerHTML = '<i class="fa fa-edit"></i>';
                            const removeButton = document.createElement('button');
                            removeButton.className = 'btn btn-danger btn-simple btn-link';
                            removeButton.title = 'Remove';
                            removeButton.innerHTML = '<i class="fa fa-times"></i>';
                            actionsCell.appendChild(editButton);
                            actionsCell.appendChild(removeButton);
                            row.appendChild(actionsCell);

                            tableBody.appendChild(row);
                        });
                    }

                    // Call the function to populate the table when the document is loaded
                    document.addEventListener('DOMContentLoaded', populateTable);
                </script>

            
            <footer class="footer">
                <div class="container-fluid">
                    <nav>
                        <ul class="footer-menu">
                            <li>
                                <a href="#">
                                    Home
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    Company
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    Portfolio
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    Blog
                                </a>
                            </li>
                        </ul>
                        <p class="copyright text-center">
                            Â©
                            <script>
                                document.write(new Date().getFullYear())
                            </script>
                            <a href="http://www.creative-tim.com">Creative Tim</a>, made with love for a better web
                        </p>
                    </nav>
                </div>
            </footer>
        </div>
    </div>
</body>
<!--   Core JS Files   -->
<script src="../assets/js/core/jquery.3.2.1.min.js" type="text/javascript"></script>
<script src="../assets/js/core/popper.min.js" type="text/javascript"></script>
<script src="../assets/js/core/bootstrap.min.js" type="text/javascript"></script>
<!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
<script src="../assets/js/plugins/bootstrap-switch.js"></script>
<!--  Google Maps Plugin    -->
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>
<!--  Chartist Plugin  -->
<script src="../assets/js/plugins/chartist.min.js"></script>
<!--  Notifications Plugin    -->
<script src="../assets/js/plugins/bootstrap-notify.js"></script>
<!-- Control Center for Light Bootstrap Dashboard: scripts for the example pages etc -->
<script src="../assets/js/light-bootstrap-dashboard.js?v=2.0.0 " type="text/javascript"></script>
<!-- Light Bootstrap Dashboard DEMO methods, don't include it in your project! -->
<script src="../assets/js/demo.js"></script>
<script type="text/javascript">
$(document).ready(function() {
    // Javascript method's body can be found in assets/js/demos.js
    demo.initDashboardPageCharts();

});
</script>
</html>
